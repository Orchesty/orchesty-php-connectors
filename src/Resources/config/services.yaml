services:
    _defaults:
        public: '%public.services%'

    hbpf.application.hubspot:
        class: Hanaboso\HbPFConnectors\Model\Application\Impl\Hubspot\HubspotApplication
        arguments:
            - '@hbpf.providers.oauth2_provider'
            - '@hbpf.transport.curl_manager'

    hbpf.application.mailchimp:
        class: Hanaboso\HbPFConnectors\Model\Application\Impl\Mailchimp\MailchimpApplication
        arguments:
            - '@hbpf.providers.oauth2_provider'
            - '@hbpf.transport.curl_manager'

    hbpf.application.shipstation:
        class: Hanaboso\HbPFConnectors\Model\Application\Impl\Shipstation\ShipstationApplication

    hbpf.connector.hubspot_create_contact:
        class: Hanaboso\HbPFConnectors\Model\Application\Impl\Hubspot\Connector\HubspotCreateContactConnector
        arguments:
            - '@hbpf.transport.curl_manager'
            - '@doctrine_mongodb.odm.default_document_manager'
        calls:
            - ['setApplication',['@hbpf.application.hubspot']]

    hbpf.connector.mailchimp_create_contact:
        class: Hanaboso\HbPFConnectors\Model\Application\Impl\Mailchimp\Connector\MailchimpCreateContactConnector
        arguments:
            - '@hbpf.transport.curl_manager'
            - '@doctrine_mongodb.odm.default_document_manager'
        calls:
            - ['setApplication',['@hbpf.application.mailchimp']]

    hbpf.connector.shipstation_new_order:
        class: Hanaboso\HbPFConnectors\Model\Application\Impl\Shipstation\Connector\ShipstationNewOrderConnector
        arguments:
            - '@hbpf.transport.curl_manager'
            - '@doctrine_mongodb.odm.default_document_manager'
        calls:
            - ['setApplication',['@hbpf.application.shipstation']]

    hbpf.custom_node.hubspot_create_contact:
        class: Hanaboso\HbPFConnectors\Model\Application\Impl\Hubspot\Mapper\HubspotCreateContactMapper

    hbpf.custom_node.mailchimp_create_contact:
        class: Hanaboso\HbPFConnectors\Model\Application\Impl\Mailchimp\Mapper\MailchimpCreateContactMapper

    hbpf.custom_node.get_application_for_refresh_batch:
        class: Hanaboso\HbPFConnectors\Model\Application\Impl\OAuth2\CustomNode\GetApplicationForRefreshBatch
        arguments:
            - '@doctrine_mongodb.odm.default_document_manager'

    hbpf.custom_node.refresh_oauth2_token:
        class: Hanaboso\HbPFConnectors\Model\Application\Impl\OAuth2\CustomNode\RefreshOAuth2TokenCustomNode
        arguments:
            - '@doctrine_mongodb.odm.default_document_manager'
            - '@hbpf.application.loader'

    hbpf.application.s3:
        class: Hanaboso\HbPFConnectors\Model\Application\Impl\S3\S3Application
        arguments:

    hbpf.connector.s3-create-object:
        class: Hanaboso\HbPFConnectors\Model\Application\Impl\S3\Connector\CreateObjectConnector
        arguments:
            - '@doctrine_mongodb.odm.default_document_manager'
        calls:
            - ['setApplication', ['@hbpf.application.s3']]

    hbpf.connector.s3-get-object:
        class: Hanaboso\HbPFConnectors\Model\Application\Impl\S3\Connector\GetObjectConnector
        arguments:
            - '@doctrine_mongodb.odm.default_document_manager'
        calls:
            - ['setApplication', ['@hbpf.application.s3']]

    hbpf.connector.s3-delete-object:
        class: Hanaboso\HbPFConnectors\Model\Application\Impl\S3\Connector\DeleteObjectConnector
        arguments:
            - '@doctrine_mongodb.odm.default_document_manager'
        calls:
            - ['setApplication', ['@hbpf.application.s3']]
